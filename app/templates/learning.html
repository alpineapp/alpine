{% extends "base.html" %}

{% block app_content %}
{% if card is not none %}
<div class='container' id="card-{{ card.id }}" card-id='{{ card.id }}'>
    <div class="col-lg-6 offset-md-3">
        <div class="row mb-3">
            <div class="progress w-100" style='height: 25px'>
                <div class="progress-bar" role="progressbar" aria-valuenow="{{ cursor + 1 }}"
                    aria-valuemin="0" aria-valuemax="{{ size }}"
                    style="width: {{ (cursor + 1) * 100 / size }}%">
                    {{ cursor + 1 }} / {{ size }}
                </div>
            </div>
        </div>
        <div class="row">
            <div><h4>Deck {{ card.deck.name }}</h4></div>
            <div class="mr-auto"></div>
            <div>
                <p>Bucket <span class="badge badge-secondary">{{ card.bucket }}</span></p>
            </div>
        </div>
        <div class='row'>
            <div class="card w-100">
                <div class="card-body">
                    <p class="card-title">{{ card.front }}</p>
                </div>
                <p class="card-body card-text tinymce-display small" style="display: none; background-color:rgb(245, 245, 245); height: 250px" id='displayTarget'></p>
            </div>
        </div>
        <div id="backPlaceholder" class="row" style="height: 250px"></div>
    <div class="row mt-4">
        <div class="col mb-2">
            <a class="btn btn-outline-secondary btn-block" id="displayBtn" card_id="{{ card.id }}">Display</a>
        </div>
        <div class="col mb-2" id='fail'>
            <p class='btn btn-danger btn-block'>Fail</p>
        </div>
        <div class="col-md-12" id="next" style="display:none">
            <form action="" method="post">
                {{ form.hidden_tag() }}
                <input id="nextInput" type="hidden" name="button" value="next">
                <p>{{ form.next(class='btn btn-outline-secondary btn-block') }}</p>
            </form>
        </div>
        <div class="col" id="ok">
            <p class='btn btn-primary btn-block'>OK</p>
        </div>
    </div>
</div>
</div>
{% endif %}
{% endblock %}
