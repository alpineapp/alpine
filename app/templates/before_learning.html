{% extends "base.html" %}
{% import 'bootstrap/form.html' as wtf %}
{% block app_content %}
<h4 class='text-secondary'>Statistics</h4>
<div class="row mb-lg-5">
  <div class="col-md-4">
    <!-- Card -->
    <div class="card card-hover-shadow h-100">
      <div class="card-body">
        <h6 class="card-subtitle mb-2 text-secondary">Today's Objective</h6>
        <div class="row align-items-center mb-1">
          <div class="col-12">
            <span class="card-title h2">{{ lh.stats['num_total'] }}</span
            ><span class="text-secondary"> cards</span>
          </div>
        </div>
      </div>
    </div>
    <!-- End Card -->
  </div>
  <div class="col-md-4">
    <!-- Card -->
    <div class="card card-hover-shadow h-100">
      <div class="card-body">
        <h6 class="card-subtitle mb-2 text-secondary">Estimated Duration</h6>
        <div class="row align-items-center mb-1">
          <div class="col-12">
            <span class="card-title h2">{{ lh.stats['num_minutes'] }}</span
            ><span class="text-secondary"> minutes</span>
          </div>
        </div>
      </div>
    </div>
    <!-- End Card -->
  </div>
</div>

{% if lh.stats['num_total'] > 0 %}
<h4 class='text-secondary'>Cards to learn</h4>
<div class="row mb-lg-4">
  {% for card in lh.cards %}
  {% include 'card.html' %}
  {% endfor %}
</div>

<h4 class='text-secondary'>Set up your session</h4>
<form action="" method="post">
  {{ start_form.hidden_tag() }}
  <input type="hidden" name="mode" value="start" />
  <div class="row form-row">
    <div class="form-group col-md-6">
      <label for="numRandomLearnedLabel" class="col-md-12 px-0"
        >{{ start_form.num_random_learned.label }}</label
      >
      {{ start_form.num_random_learned(class='col-sm-2 form-control') }}
    </div>
  </div>
  <div class="row form-row">
    <div class="form-group col-md-2">
      {{ start_form.submit(class='btn btn-primary col-md-12') }}
    </div>
  </div>
</form>
{% else %}
<h2>You have no card to learn today!</h2>
{% endif %}
{% endblock %}

{% block scripts %} {{ super() }}
<script>
  $(".cardBack").hide();
</script>
{% endblock %}
